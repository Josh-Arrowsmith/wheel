<!DOCTYPE html>
<html>
<head>
	<title>Wheel</title>
	<link rel="stylesheet" type="text/css" href="css/wheel.css" />
	<link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="jquery-ui.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
<body>
	<div id="overlay"></div>
	<div class="search">
		<button id="spinnerButton">Wheel</button>
		<fieldset>
			<legend>Category</legend>
			<div class="toggle">
				<label for="pub">Pub<input type="checkbox" name="type" value="pub" id="pub" checked="checked" /></label>
				<label for="club">Club<input type="checkbox" name="type" value="club" id="club" /></label>
				<label for="grub">Grub<input type="checkbox" name="type" value="grub" id="grub" /></label>
				<label for="Suprise">Suprise</label>
			</div>
			<p class="status">Toggle is <span>auto width</span><span>full width</span>.</p>
		</fieldset>
	</div>
	<div>
		<center>
			<div class="wheelSpinnerParents">
				<div class="wheelSpinner" id="wheelSpinner"></div>
			</div>
		</center>
		<div class="results" id="results">
			<div>
				<table width="100%">
					<thead>
						<tr>
							<td align="center">
								<h2 class="resultsPlaceName">The Crown</h2>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<div id="subResults">
									<table width="100%">
										<tr>
											<td align="center"><img src="img/Crown.png" style="max-width: 100%"></td>
										</tr>
										<tr>
											<td><table width="100%">
												<tr>
													<td>
														<i class="fa fa-thumbs-up ratingButton"></i>
													</td>
													<td>
														<i class="fa fa-thumbs-down ratingButton"></i>
													</td>
												</tr>
											</table></td>
										</tr>
										<tr>
											<td><div class="emergencyButton">Emergency</div></td>
										</tr>
									</table>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$("#overlay").slideUp(300);
		document.getElementById("wheelSpinner").onclick = function() { if ($("#spinnerButton").attr("shown") == "true"){ $("#overlay").show('slide', { direction: "down" }, 1000);window.setTimeout(function () {location.reload();},1000) } else { document.getElementById("wheelSpinner").classList.toggle("rotate"); displayResults() }};
		window.setTimeout(function () {$("#wheelSpinner").animate({maxHeight:"60vw",maxWidth:"60vw",width:"60vw",height:"60vw"},250);},700);
		function displayResults(results = {})
		{
			//if (results != {})
			//{
				if ($("#spinnerButton").attr("shown") != "true"){
					$("#wheelSpinner").css({minwidth:0,minHeight:0,marginBottom:50}).animate({height:60,width:0,opacity:0.3},250);
					$("#results, #subResults").hide();
					$("#results").delay(900).fadeIn(1500);
					$("#results").delay(100).animate({marginTop:0,marginTop:50,display:"block"},375);
					$("#spinnerButton").delay(800).animate({opacity:0},200);
					window.setTimeout(function () {
						$("#spinnerButton").slideUp();
						$("#wheelSpinner").removeClass("rotate").animate({opacity:1,marginBottom:0, height:100,width:100,minwidth:100,minHeight:100,maxHeight:100,maxWidth:100,paddingBottom:25},250);
						$(".wheelSpinnerParents").animate({paddingTop:25},250);
						$("#results").animate({marginTop:25},250)
					}, 800);
					//$("#spinnerButton").delay(800).animate({opacity:1},300);
					window.setTimeout(function () {
				    	$("#spinnerButton").attr("shown","true");//.text("You should go to:").removeAttr("id");
				    	window.setTimeout(function () {
					    	$("#subResults").css({height:$("html").height() - $(".wheelSpinnerParents").height()}).slideDown();//.animate({display:"block",height:"100%"},1000);
					    }, 1000);
					}, 1000);
				}
		}
		(function(){
			var degRot = 328;
			setInterval(function() { 
				$("body").css({"background":"linear-gradient(" + degRot + "deg, rgba(34,195,87,1) 0%, rgba(253,113,45,1) 100%"});
				degRot++;
			}, 50);
		})();
	</script>
</body>
</html>